---
const { data } = Astro.props;

export async function createPages() {
  return {
    async props() {
      let data = Astro.fetchContent('./post/**/*.md');
      data.sort((a, b) => new Date(b.date) - new Date(a.date));
      return {data};
    },
  };
}
---

<div id="posts">
{data.map((post) => (
  <article>
    <h1>{post.title}</h1>
    <a href={post.url}>Read more</a>
  </article>
))}
</div>